import{m as N,j as t,L as w}from"./app-Eie5AHxx.js";import{B as L}from"./button-BvEwRcII.js";import{A as v}from"./app-layout-9epeY7cv.js";import D from"./form-kJwD9OyN.js";import{L as E}from"./loader-circle-B5brJgqg.js";import"./index-CM95YheC.js";import"./heart-Cj0x1KSm.js";import"./clsx-B-dksMZM.js";import"./createLucideIcon-DJeheV6D.js";import"./utils-CiMRq3MP.js";import"./nav-user-Df09wqTV.js";import"./index-NmRq-djy.js";import"./index-BkANAz8T.js";import"./index-DSDDOnX4.js";import"./chart-column-B9DoBEIX.js";import"./apple-BeclLuMW.js";import"./label-B7XfqRQ9.js";import"./card-B8iT5nBK.js";function O({breadcrumb:p,indikator:s,titlePage:u,dataset:a}){const d=p?p.map(r=>({title:r.title,href:r.href})):[],{data:l,setData:m,put:f,processing:x,errors:h}=N({label:(a==null?void 0:a.label)||"",parameter:(a==null?void 0:a.parameter)||s.map((r,e)=>({indikator_id:s[e].id,nilai:null}))}),b=r=>{const{name:e,value:i}=r.target,n=e.split(".")[1];e.includes("parameter")?m(o=>({...o,parameter:o.parameter.map((c,g)=>g===Number(n)?{...c,nilai:i}:c)})):m(o=>({...o,[e]:i}))},j=(r,e)=>{r&&e!==void 0&&l&&l.parameter?r==="label"||r==="jenis_tanaman"||r=="bulan"?m(i=>({...i,[r]:e})):m(i=>({...i,parameter:i.parameter.map((n,o)=>o===Number(r)?{...n,nilai:e}:n)})):console.error("Invalid data: name, value, or parameter may be undefined")},y=r=>{r.preventDefault(),f(route("admin.dataset.update",{dataset:a==null?void 0:a.id}),{onError:e=>{console.log(e)}})};return t.jsxs(v,{breadcrumbs:d,children:[t.jsx(w,{title:u??"Edit Dataset Makanan"}),t.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[t.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Edit Dataset Makanan"}),t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsx(D,{data:l,errors:h,indikator:s,handleChange:b,handleSelectChange:j}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(L,{type:"submit",variant:"default",children:[x&&t.jsx(E,{className:"h-4 w-4 animate-spin"}),"Update Data"]})})]})]})]})}export{O as default};
