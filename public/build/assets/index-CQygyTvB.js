import{r as u,m as P,j as a,L as M}from"./app-BlV91FWz.js";import{M as T}from"./main-layout-9eCOrzgp.js";import{m as s}from"./proxy-DsGhCzcj.js";import"./nav-user-B6EpVxWy.js";import"./index-CrlaN-4L.js";import"./index-BPCQFoo6.js";import"./index-C1EK9aED.js";import"./utils-CiMRq3MP.js";import"./clsx-B-dksMZM.js";import"./index-oc6sIK1v.js";import"./createLucideIcon-x4OClAdX.js";import"./button-C4N_RWVe.js";import"./heart-CHMJLmFd.js";import"./x-Cr2yBpL3.js";const r=[{type:"Normal",sistolik:"<120",diastolik:"<80",color:"bg-green-100 text-green-800"},{type:"Prahipertensi",sistolik:"120-129",diastolik:"<80",color:"bg-blue-100 text-blue-800"},{type:"Hipertensi Tahap 1",sistolik:"130-139",diastolik:"80-89",color:"bg-yellow-100 text-yellow-800"},{type:"Hipertensi Tahap 2",sistolik:"≥140",diastolik:"≥90",color:"bg-orange-100 text-orange-800"},{type:"Hipertensi Krisis",sistolik:"≥180",diastolik:"≥120",color:"bg-red-100 text-red-800"}];function W({kluster:x}){const[F,B]=u.useState("MENU"),[H,K]=u.useState("asc"),b=["Pagi","Siang","Malam"],g=x.map(e=>{var t;return{...e,clusterResult:b[((t=e.clusterResult)==null?void 0:t.cluster)||0]}}),k=g.filter(e=>e.clusterResult==="Pagi"),f=g.filter(e=>e.clusterResult==="Siang"),y=g.filter(e=>e.clusterResult==="Malam");function h(e){let t=e.length,i;for(;t!=0;)i=Math.floor(Math.random()*t),t--,[e[t],e[i]]=[e[i],e[t]];return e}const j=()=>{const e=h(k).slice(0,5),t=h(f).slice(0,5),i=h(y).slice(0,5);return{pagi:e,siang:t,malam:i}},{data:n,setData:o,post:N}=P({nama:"",jenkel:"",usia:"",beratBadan:"",tinggiBadan:"",tekananSistolik:"",tekananDiastolik:"",riwayatPenyakit:"",alergiMakanan:"",hipertensi:"",kluster:j()}),[d,m]=u.useState(null),[p,v]=u.useState(!1);u.useEffect(()=>{w()},[n.tekananSistolik,n.tekananDiastolik]);const w=()=>{const e=parseInt(n.tekananSistolik)||0,t=parseInt(n.tekananDiastolik)||0;e>=180&&t>=120?(m(r[4]),o(i=>({...i,hipertensi:r[4].type}))):e>=140&&t>=90?(m(r[3]),o(i=>({...i,hipertensi:r[3].type}))):e>=130&&t>=80?(m(r[2]),o(i=>({...i,hipertensi:r[2].type}))):e>=120&&t<80?(m(r[1]),o(i=>({...i,hipertensi:r[1].type}))):e>0&&t>0?(m(r[0]),o(i=>({...i,hipertensi:r[0].type}))):m(null)},l=e=>{const{name:t,value:i}=e.target;o(C=>({...C,[t]:i}))},S=e=>{e.preventDefault(),console.log("Form data submitted:",n),localStorage.setItem("klusterData",JSON.stringify(n)),N(route("riwayatPengguna.store"),{preserveState:!0,replace:!0})},D={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},c={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return a.jsxs(T,{children:[a.jsx(M,{title:"Kluster Pengguna"}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsxs("div",{className:"container mx-auto max-w-4xl px-4",children:[a.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[a.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-800",children:"Form Data Kesehatan Pengguna"}),a.jsx("p",{className:"text-gray-600",children:"Lengkapi data diri untuk analisis kesehatan yang lebih personal"}),a.jsxs("button",{onClick:()=>v(!p),className:"mt-4 text-sm font-medium text-blue-600 hover:text-blue-800",children:[p?"Sembunyikan":"Tampilkan"," Petunjuk Penggunaan"]})]}),p&&a.jsxs(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-8 rounded-xl bg-white p-6 shadow-md",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-800",children:"Cara Penggunaan"}),a.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-gray-700",children:[a.jsx("li",{children:"Isi semua field formulir dengan data yang diminta"}),a.jsx("li",{children:"Tekanan darah akan otomatis diklasifikasikan saat Anda mengisi field tekanan sistolik dan diastolik"}),a.jsx("li",{children:"Klasifikasi hipertensi akan muncul di bagian bawah form"}),a.jsx("li",{children:"Pastikan data yang dimasukkan akurat untuk hasil yang optimal"}),a.jsx("li",{children:'Klik tombol "Simpan Data" setelah semua field terisi'})]})]}),a.jsxs(s.div,{variants:D,initial:"hidden",animate:"visible",className:"overflow-hidden rounded-xl bg-white shadow-lg",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-1"}),a.jsxs("form",{onSubmit:S,className:"p-6 md:p-8",children:[a.jsxs(s.div,{variants:c,className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"nama",className:"mb-2 block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),a.jsx("input",{type:"text",id:"nama",name:"nama",value:n.nama,onChange:l,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"Masukkan nama lengkap"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jenkel",className:"mb-2 block text-sm font-medium text-gray-700",children:"Jenis Kelamin"}),a.jsxs("select",{id:"jenkel",name:"jenkel",value:n.jenkel,onChange:l,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Pilih Jenis Kelamin"}),a.jsx("option",{value:"Laki-laki",children:"Laki-laki"}),a.jsx("option",{value:"Perempuan",children:"Perempuan"})]})]})]}),a.jsxs(s.div,{variants:c,className:"mt-6 grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"usia",className:"mb-2 block text-sm font-medium text-gray-700",children:"Usia (tahun)"}),a.jsx("input",{type:"number",id:"usia",name:"usia",value:n.usia,onChange:l,min:"0",max:"120",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"Contoh: 25"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"beratBadan",className:"mb-2 block text-sm font-medium text-gray-700",children:"Berat Badan (kg)"}),a.jsx("input",{type:"number",id:"beratBadan",name:"beratBadan",value:n.beratBadan,onChange:l,min:"0",step:"0.1",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"Contoh: 65.5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tinggiBadan",className:"mb-2 block text-sm font-medium text-gray-700",children:"Tinggi Badan (cm)"}),a.jsx("input",{type:"number",id:"tinggiBadan",name:"tinggiBadan",value:n.tinggiBadan,onChange:l,min:"0",step:"0.1",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"Contoh: 170.5"})]})]}),a.jsxs(s.div,{variants:c,className:"mt-6",children:[a.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"Tekanan Darah"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tekananSistolik",className:"mb-2 block text-sm font-medium text-gray-700",children:"Tekanan Sistolik (mmHg)"}),a.jsx("input",{type:"number",id:"tekananSistolik",name:"tekananSistolik",value:n.tekananSistolik,onChange:l,min:"0",max:"300",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"Contoh: 120"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tekananDiastolik",className:"mb-2 block text-sm font-medium text-gray-700",children:"Tekanan Diastolik (mmHg)"}),a.jsx("input",{type:"number",id:"tekananDiastolik",name:"tekananDiastolik",value:n.tekananDiastolik,onChange:l,min:"0",max:"200",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"Contoh: 80"})]})]})]}),a.jsxs(s.div,{variants:c,className:"mt-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"riwayatPenyakit",className:"mb-2 block text-sm font-medium text-gray-700",children:"Riwayat Penyakit"}),a.jsx("textarea",{id:"riwayatPenyakit",name:"riwayatPenyakit",value:n.riwayatPenyakit,onChange:l,rows:3,required:!0,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:`Jelaskan riwayat penyakit yang pernah Anda alami.
Tuliskan nama penyakit (misalnya: Diabetes tipe 2)
Sertakan tahun diagnosa (misalnya: 2018)`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"alergiMakanan",className:"mb-2 block text-sm font-medium text-gray-700",children:"Alergi Makanan"}),a.jsx("textarea",{id:"alergiMakanan",name:"alergiMakanan",value:n.alergiMakanan,onChange:l,rows:3,required:!0,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 transition duration-200 focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:`Sebutkan semua alergi makanan yang Anda miliki.
Nama makanan (contoh: Udang)
Gejala yang timbul (contoh: Gatal-gatal, sesak napas)
Tingkat keparahan (contoh: ringan, parah)`})]})]}),d&&a.jsxs(s.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`mt-8 rounded-lg p-4 ${d.color} border-l-4 ${d.color.replace("bg-","border-")}`,children:[a.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Klasifikasi Tekanan Darah"}),a.jsxs("p",{children:["Tekanan darah Anda dikategorikan sebagai: ",a.jsx("span",{className:"font-bold",children:d.type})]}),a.jsxs("p",{className:"mt-1 text-sm",children:["Sistolik: ",d.sistolik," mmHg, Diastolik: ",d.diastolik," mmHg"]})]}),a.jsxs(s.div,{variants:c,className:"mt-8 overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h3",{className:"border-b bg-gray-50 p-3 font-semibold text-gray-800",children:"Tabel Klasifikasi Hipertensi"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left",children:"Jenis Hipertensi"}),a.jsx("th",{className:"p-3 text-center",children:"Tekanan Sistolik (mmHg)"}),a.jsx("th",{className:"p-3 text-center",children:"Tekanan Diastolik (mmHg)"})]})}),a.jsx("tbody",{children:r.map((e,t)=>a.jsxs("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"p-3 font-medium",children:e.type}),a.jsx("td",{className:"p-3 text-center",children:e.sistolik}),a.jsx("td",{className:"p-3 text-center",children:e.diastolik})]},t))})]})})]}),a.jsx(s.div,{variants:c,className:"pt-8",children:a.jsx("button",{type:"submit",className:"w-full rounded-lg bg-gradient-to-r from-blue-500 to-indigo-600 px-4 py-3 text-white shadow-md transition duration-200 hover:from-blue-600 hover:to-indigo-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",children:"Simpan Data"})})]})]}),a.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 text-center text-sm text-gray-600",children:a.jsx("p",{children:"© 2023 Health Monitoring System. Data Anda akan dijaga kerahasiaannya."})})]})})]})}export{W as default};
