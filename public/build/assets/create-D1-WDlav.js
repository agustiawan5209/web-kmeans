import{m as g,j as a,L as N}from"./app-B5Nj6sQ-.js";import{B as w}from"./button-CoTckYPf.js";import{A as L}from"./app-layout-D9zkOriW.js";import v from"./form-B_D3N3dL.js";import{L as D}from"./loader-circle-D7CdK0b1.js";import"./index-BMaf9g36.js";import"./heart-hQnTWBYB.js";import"./clsx-B-dksMZM.js";import"./createLucideIcon-B4ZyXjo0.js";import"./utils-CiMRq3MP.js";import"./nav-user-Ux87DQiI.js";import"./index-BvjW9_lV.js";import"./index-DXJ5B3or.js";import"./index-DHloS4bE.js";import"./chart-column-BpqsrlGn.js";import"./apple-Bl0DHOQJ.js";import"./label-7eLgo8pF.js";import"./card-Cymmos_5.js";function O({breadcrumb:l,indikator:n,titlePage:d}){const c=l?l.map(e=>({title:e.title,href:e.href})):[],{data:m,setData:i,post:u,processing:f,errors:x}=g({label:"",parameter:n.map((e,t)=>({indikator_id:n[t].id,nilai:null}))}),h=e=>{const{name:t,value:r}=e.target,o=t.split(".")[1];t.includes("parameter")?i(s=>({...s,parameter:s.parameter.map((p,y)=>y===Number(o)?{...p,nilai:r}:p)})):i(s=>({...s,[t]:r}))},b=(e,t)=>{e&&t!==void 0&&m&&m.parameter?e==="label"||e==="jenis_tanaman"||e=="bulan"?i(r=>({...r,[e]:t})):i(r=>({...r,parameter:r.parameter.map((o,s)=>s===Number(e)?{...o,nilai:t}:o)})):console.error("Invalid data: name, value, or parameter may be undefined")},j=e=>{e.preventDefault(),u(route("admin.dataset.store"),{onError:t=>{console.log(t)}})};return a.jsxs(L,{breadcrumbs:c,children:[a.jsx(N,{title:d??"Input Dataset Makanan"}),a.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[a.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Input Dataset Makanan"}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsx(v,{data:m,errors:x,indikator:n,handleChange:h,handleSelectChange:b}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(w,{type:"submit",variant:"default",children:[f&&a.jsx(D,{className:"h-4 w-4 animate-spin"}),"Simpan Data"]})})]})]})]})}export{O as default};
