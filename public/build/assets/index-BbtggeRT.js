import{r as g,j as e}from"./app-d-qLC2bI.js";import{K as N}from"./klusterFood-C6TAy_e9.js";import{M as h}from"./main-layout-BDg-hxc-.js";import{m as l}from"./proxy--f8wKCdQ.js";import"./index-aiqTfpOA.js";import"./nav-user-CaII_K-8.js";import"./index-BxjIx0XT.js";import"./index-Cjss2uYZ.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-CxW8n3fz.js";import"./button-CyJA0Jg8.js";import"./heart-Io_ILL2I.js";import"./x-OUgoDka0.js";function R({healthData:r,kluster:b}){const p=["Pagi","Siang","Malam"],u=b.map(a=>{var s;return{...a,clusterResult:p[((s=a.clusterResult)==null?void 0:s.cluster)||0]}}),[t,x]=g.useState(null),[k,f]=g.useState(!0);console.log(r);const m=(a,s)=>a>=180&&s>=120?{type:"Hipertensi Krisis",color:"text-red-600",bgColor:"bg-red-100"}:a>=140&&s>=90?{type:"Hipertensi Tahap 2",color:"text-orange-600",bgColor:"bg-orange-100"}:a>=130&&s>=80?{type:"Hipertensi Tahap 1",color:"text-yellow-600",bgColor:"bg-yellow-100"}:a>=120&&s<80?{type:"Prahipertensi",color:"text-blue-600",bgColor:"bg-blue-100"}:{type:"Normal",color:"text-green-600",bgColor:"bg-green-100"},o=(a,s)=>{const n=s/100,i=a/(n*n);let d="",c="";return i<18.5?(d="Kekurangan berat badan",c="text-blue-600"):i>=18.5&&i<25?(d="Normal (ideal)",c="text-green-600"):i>=25&&i<30?(d="Kelebihan berat badan",c="text-yellow-600"):(d="Obesitas",c="text-red-600"),{value:parseFloat(i.toFixed(1)),category:d,color:c}},j={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},y={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.5}}};return r===null||r.length===0?e.jsx(h,{children:e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md rounded-xl bg-white p-8 text-center shadow-lg",children:[e.jsx("div",{className:"mb-4 text-5xl",children:"ðŸ“‹"}),e.jsx("h2",{className:"mb-4 text-2xl font-bold text-gray-800",children:"Tidak Ada Data"}),e.jsx("p",{className:"mb-6 text-gray-600",children:"Belum ada data kesehatan yang tersimpan. Silakan isi form terlebih dahulu."}),e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"rounded-lg bg-blue-500 px-6 py-2 font-medium text-white",onClick:()=>window.location.href="/",children:"Kembali ke Form"})]})})}):e.jsx(h,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:e.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-800",children:"Data Kesehatan Pengguna"}),e.jsx("p",{className:"text-gray-600",children:"Rekam medis dan hasil analisis kesehatan"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Total: ",r.length," data tersimpan"]})]}),t?e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"mb-8 overflow-hidden rounded-xl bg-white shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-1"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Detail Data Kesehatan"}),e.jsx("button",{onClick:()=>x(null),className:"text-2xl text-gray-500 hover:text-gray-700",children:"âœ•"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Nama Lengkap"}),e.jsx("p",{className:"text-lg font-semibold",children:t.nama})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Jenis Kelamin"}),e.jsx("p",{className:"text-lg font-semibold",children:t.jenkel})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Usia"}),e.jsxs("p",{className:"text-lg font-semibold",children:[t.usia," tahun"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Berat & Tinggi Badan"}),e.jsxs("p",{className:"text-lg font-semibold",children:[t.berat_badan," kg / ",t.tinggi_badan," cm"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Tekanan Darah"}),e.jsxs("p",{className:"text-lg font-semibold",children:[t.tekanan_sistolik," / ",t.tekanan_diastolik," mmHg"]}),t.tekanan_sistolik&&t.tekanan_diastolik&&e.jsx(l.span,{initial:{opacity:0},animate:{opacity:1},className:`mt-2 inline-block rounded-full px-3 py-1 text-sm font-medium ${m(parseInt(t.tekanan_sistolik)||0,parseInt(t.tekanan_diastolik)||0).bgColor} ${m(parseInt(t.tekanan_sistolik)||0,parseInt(t.tekanan_diastolik)||0).color}`,children:t.hipertensi})]}),t.berat_badan&&t.tinggi_badan&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Indeks Massa Tubuh (BMI)"}),o(parseFloat(t.berat_badan)||0,parseFloat(t.tinggi_badan)||0)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg font-semibold",children:o(parseFloat(t.berat_badan)||0,parseFloat(t.tinggi_badan)||0).value}),e.jsx("p",{className:o(parseFloat(t.berat_badan)||0,parseFloat(t.tinggi_badan)||0).color,children:o(parseFloat(t.berat_badan)||0,parseFloat(t.tinggi_badan)||0).category})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Riwayat Penyakit"}),e.jsx("p",{className:"text-lg font-semibold",children:t.riwayat_penyakit||"Tidak ada riwayat penyakit"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Alergi Makanan"}),e.jsx("p",{className:"text-lg font-semibold",children:t.alergi_makanan||"Tidak ada alergi makanan"})]})]})]}),e.jsx(N,{data:u})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(l.div,{variants:j,initial:"hidden",animate:"visible",className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map((a,s)=>{const n=a.tekanan_sistolik&&a.tekanan_diastolik?m(parseInt(a.tekanan_sistolik)||0,parseInt(a.tekanan_diastolik)||0):null,i=a.berat_badan&&a.tinggi_badan?o(parseFloat(a.berat_badan)||0,parseFloat(a.tinggi_badan)||0):null;return e.jsxs(l.div,{variants:y,whileHover:{y:-5,transition:{duration:.2}},className:"cursor-pointer overflow-hidden rounded-xl bg-white shadow-md",onClick:()=>x(a),children:[e.jsxs("div",{className:`p-4 ${(n==null?void 0:n.bgColor)||"bg-gray-100"}`,children:[e.jsx("h3",{className:"truncate text-xl font-bold text-gray-800",children:a.nama||"Tidak ada nama"}),e.jsxs("p",{className:"text-gray-600",children:[a.jenkel||"Tidak diketahui",", ",a.usia||"0"," tahun"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Tekanan Darah"}),n&&e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${n.bgColor} ${n.color}`,children:n.type})]}),e.jsx("p",{className:"mb-4 text-lg font-semibold",children:a.tekanan_sistolik&&a.tekanan_diastolik?`${a.tekanan_sistolik}/${a.tekanan_diastolik} mmHg`:"Tidak ada data"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"BMI"}),i&&e.jsxs("p",{className:`text-lg font-semibold ${i.color}`,children:[i.value," ",e.jsxs("span",{className:"text-xs",children:["(",i.category,")"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Berat/Tinggi"}),e.jsxs("p",{className:"text-lg font-semibold",children:[a.berat_badan||"-"," kg / ",a.tinggi_badan||"-"," cm"]})]})]})]}),e.jsx("div",{className:"bg-gray-50 p-3 text-center text-sm text-gray-500",children:"Klik untuk melihat detail"})]},s)})}),e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center",children:e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mr-4 rounded-lg bg-blue-500 px-6 py-2 font-medium text-white",onClick:()=>window.location.href="/form/rekomendasi",children:"Tambah Data Baru"})})]})]})})})}export{R as default};
