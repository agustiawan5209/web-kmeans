import{r as h,j as a}from"./app-B5Nj6sQ-.js";import{m as j}from"./proxy-DAjowYDA.js";import{A as w}from"./index-BbInwnwb.js";const P=({data:c})=>{const[o,N]=h.useState("Pagi"),[n,k]=h.useState("MENU"),[l,b]=h.useState("asc"),d=c.filter(e=>e.clusterResult==="Pagi"),m=c.filter(e=>e.clusterResult==="Siang"),x=c.filter(e=>e.clusterResult==="Malam"),f=e=>{e===n?b(l==="asc"?"desc":"asc"):(k(e),b("asc"))},g=e=>[...e].sort((t,u)=>{const r=t[n],s=u[n];return typeof r=="string"&&typeof s=="string"?l==="asc"?r.localeCompare(s):s.localeCompare(r):l==="asc"?r-s:s-r}),y=()=>{switch(o){case"Pagi":return g(d);case"Siang":return g(m);case"Malam":return g(x);default:return[]}},i=e=>{switch(e){case"Pagi":return"bg-amber-100 text-amber-800 border-amber-300";case"Siang":return"bg-blue-100 text-blue-800 border-blue-300";case"Malam":return"bg-indigo-100 text-indigo-800 border-indigo-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},v={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-lg",children:[a.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-800",children:"Rekomendasi Makanan Berdasarkan Waktu"}),a.jsx("div",{className:"mb-6 flex border-b border-gray-200",children:["Pagi","Siang","Malam"].map(e=>a.jsxs("button",{className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-all duration-200 ${o===e?`${i(e).split(" ")[0]} ${i(e).split(" ")[1]} border-t border-r border-l`:"text-gray-500 hover:bg-gray-100 hover:text-gray-700"}`,onClick:()=>N(e),children:[e," (",e==="Pagi"?d.length:e==="Siang"?m.length:x.length,")"]},e))}),a.jsx("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:["Pagi","Siang","Malam"].map(e=>{const t=e==="Pagi"?d:e==="Siang"?m:x,u=t.reduce((s,p)=>s+p.KALORI,0),r=t.reduce((s,p)=>s+p.PROTEIN,0);return a.jsxs(j.div,{whileHover:{y:-5},className:`rounded-lg border p-4 ${i(e)}`,children:[a.jsxs("h3",{className:"mb-2 font-semibold",children:["Makanan ",e]}),a.jsxs("p",{className:"text-sm",children:["Jumlah: ",t.length," menu"]}),a.jsxs("p",{className:"text-sm",children:["Total Kalori: ",u.toFixed(0)," kcal"]}),a.jsxs("p",{className:"text-sm",children:["Total Protein: ",r.toFixed(1)," g"]})]},e)})}),a.jsx("div",{className:"overflow-x-auto rounded-lg shadow",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:["MENU","KALORI","PROTEIN","LEMAK","KARBOHIDRAT","KLUSTER"].map(e=>a.jsx("th",{className:"cursor-pointer px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase transition-colors hover:bg-gray-100",onClick:()=>f(e==="KLUSTER"?"clusterResult":e),children:a.jsxs("div",{className:"flex items-center",children:[e,n===(e==="KLUSTER"?"clusterResult":e)&&a.jsx("span",{className:"ml-1",children:l==="asc"?"↑":"↓"})]})},e))})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:a.jsx(w,{children:y().map((e,t)=>a.jsxs(j.tr,{variants:v,initial:"hidden",animate:"visible",exit:"hidden",className:"transition-colors hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium whitespace-nowrap text-gray-900",children:e.MENU}),a.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-500",children:[e.KALORI," kcal"]}),a.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-500",children:[e.PROTEIN,"g"]}),a.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-500",children:[e.LEMAK,"g"]}),a.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-500",children:[e.KARBOHIDRAT,"g"]}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${i(e.clusterResult)}`,children:e.clusterResult})})]},t))})})]})}),y().length===0&&a.jsxs("div",{className:"py-8 text-center text-gray-500",children:["Tidak ada data makanan untuk waktu ",o]}),a.jsxs("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[a.jsx("h3",{className:"mb-2 font-semibold text-blue-800",children:"Informasi Gizi"}),a.jsx("p",{className:"text-sm text-blue-700",children:"Rekomendasi makanan ini dikelompokkan berdasarkan waktu konsumsi yang optimal untuk memaksimalkan penyerapan nutrisi dan menjaga keseimbangan energi sepanjang hari."})]})]})};export{P as K};
