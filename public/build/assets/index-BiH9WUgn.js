import{r,j as e,m as it,L as ct}from"./app-Eie5AHxx.js";import{D as dt}from"./delete-confirmation-form-DOmYhCDM.js";import{L as ae,I as ue,a as Re}from"./label-B7XfqRQ9.js";import{B as oe}from"./button-BvEwRcII.js";import{C as ut}from"./card-B8iT5nBK.js";import{D as pt,a as mt,b as ft,c as ht,d as gt}from"./dialog-DByK1iY3.js";import{r as De}from"./index-BkANAz8T.js";import{c as Ae,u as xt,a as ke,R as vt,b as St,d as Ee,e as wt,A as bt,f as k,g as G,P as Ct,h as yt,i as jt,j as Nt,k as It,F as Tt,D as Pt,C as Et,l as _t}from"./nav-user-Df09wqTV.js";import{u as K,c as Rt}from"./index-CM95YheC.js";import{P as L}from"./index-NmRq-djy.js";import{V as kt,A as Mt}from"./app-layout-9epeY7cv.js";import{c as ne}from"./utils-CiMRq3MP.js";import{c as Dt}from"./createLucideIcon-DJeheV6D.js";import{C as At,a as Ot}from"./chevron-up-CQODpmLv.js";import{T as Lt,a as Bt,b as ye,c as pe,d as Vt,e as le}from"./table-0KcmfVYH.js";import{S as Ht}from"./square-pen-C1yLaITr.js";import{X as Ft}from"./x-CAmbOg6l.js";import{L as Ut}from"./loader-circle-B5brJgqg.js";import"./heart-Cj0x1KSm.js";import"./clsx-B-dksMZM.js";import"./index-DSDDOnX4.js";import"./chart-column-B9DoBEIX.js";import"./apple-BeclLuMW.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kt=Dt("Check",Wt);function Me(o,[n,t]){return Math.min(t,Math.max(n,o))}function zt(o){const n=r.useRef({value:o,previous:o});return r.useMemo(()=>(n.current.value!==o&&(n.current.previous=n.current.value,n.current.value=o),n.current.previous),[o])}var $t=[" ","Enter","ArrowUp","ArrowDown"],Gt=[" ","Enter"],J="Select",[fe,he,Yt]=wt(J),[re,ln]=St(J,[Yt,Ae]),ge=Ae(),[qt,Y]=re(J),[Zt,Xt]=re(J),Oe=o=>{const{__scopeSelect:n,children:t,open:s,defaultOpen:l,onOpenChange:d,value:a,defaultValue:c,onValueChange:i,dir:p,name:S,autoComplete:w,disabled:P,required:E,form:I}=o,u=ge(n),[v,y]=r.useState(null),[m,g]=r.useState(null),[B,D]=r.useState(!1),Z=xt(p),[M,V]=ke({prop:s,defaultProp:l??!1,onChange:d,caller:J}),[U,x]=ke({prop:a,defaultProp:c,onChange:i,caller:J}),f=r.useRef(null),j=v?I||!!v.closest("form"):!0,[_,A]=r.useState(new Set),H=Array.from(_).map(R=>R.props.value).join(";");return e.jsx(vt,{...u,children:e.jsxs(qt,{required:E,scope:n,trigger:v,onTriggerChange:y,valueNode:m,onValueNodeChange:g,valueNodeHasChildren:B,onValueNodeHasChildrenChange:D,contentId:Ee(),value:U,onValueChange:x,open:M,onOpenChange:V,dir:Z,triggerPointerDownPosRef:f,disabled:P,children:[e.jsx(fe.Provider,{scope:n,children:e.jsx(Zt,{scope:o.__scopeSelect,onNativeOptionAdd:r.useCallback(R=>{A(F=>new Set(F).add(R))},[]),onNativeOptionRemove:r.useCallback(R=>{A(F=>{const z=new Set(F);return z.delete(R),z})},[]),children:t})}),j?e.jsxs(rt,{"aria-hidden":!0,required:E,tabIndex:-1,name:S,autoComplete:w,value:U,onChange:R=>x(R.target.value),disabled:P,form:I,children:[U===void 0?e.jsx("option",{value:""}):null,Array.from(_)]},H):null]})})};Oe.displayName=J;var Le="SelectTrigger",Be=r.forwardRef((o,n)=>{const{__scopeSelect:t,disabled:s=!1,...l}=o,d=ge(t),a=Y(Le,t),c=a.disabled||s,i=K(n,a.onTriggerChange),p=he(t),S=r.useRef("touch"),[w,P,E]=at(u=>{const v=p().filter(g=>!g.disabled),y=v.find(g=>g.value===a.value),m=lt(v,u,y);m!==void 0&&a.onValueChange(m.value)}),I=u=>{c||(a.onOpenChange(!0),E()),u&&(a.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(bt,{asChild:!0,...d,children:e.jsx(L.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":st(a.value)?"":void 0,...l,ref:i,onClick:k(l.onClick,u=>{u.currentTarget.focus(),S.current!=="mouse"&&I(u)}),onPointerDown:k(l.onPointerDown,u=>{S.current=u.pointerType;const v=u.target;v.hasPointerCapture(u.pointerId)&&v.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(I(u),u.preventDefault())}),onKeyDown:k(l.onKeyDown,u=>{const v=w.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&P(u.key),!(v&&u.key===" ")&&$t.includes(u.key)&&(I(),u.preventDefault())})})})});Be.displayName=Le;var Ve="SelectValue",He=r.forwardRef((o,n)=>{const{__scopeSelect:t,className:s,style:l,children:d,placeholder:a="",...c}=o,i=Y(Ve,t),{onValueNodeHasChildrenChange:p}=i,S=d!==void 0,w=K(n,i.onValueNodeChange);return G(()=>{p(S)},[p,S]),e.jsx(L.span,{...c,ref:w,style:{pointerEvents:"none"},children:st(i.value)?e.jsx(e.Fragment,{children:a}):d})});He.displayName=Ve;var Qt="SelectIcon",Fe=r.forwardRef((o,n)=>{const{__scopeSelect:t,children:s,...l}=o;return e.jsx(L.span,{"aria-hidden":!0,...l,ref:n,children:s||"â–¼"})});Fe.displayName=Qt;var Jt="SelectPortal",Ue=o=>e.jsx(Ct,{asChild:!0,...o});Ue.displayName=Jt;var ee="SelectContent",We=r.forwardRef((o,n)=>{const t=Y(ee,o.__scopeSelect),[s,l]=r.useState();if(G(()=>{l(new DocumentFragment)},[]),!t.open){const d=s;return d?De.createPortal(e.jsx(Ke,{scope:o.__scopeSelect,children:e.jsx(fe.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),d):null}return e.jsx(ze,{...o,ref:n})});We.displayName=ee;var W=10,[Ke,q]=re(ee),eo="SelectContentImpl",to=Rt("SelectContent.RemoveScroll"),ze=r.forwardRef((o,n)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:d,onPointerDownOutside:a,side:c,sideOffset:i,align:p,alignOffset:S,arrowPadding:w,collisionBoundary:P,collisionPadding:E,sticky:I,hideWhenDetached:u,avoidCollisions:v,...y}=o,m=Y(ee,t),[g,B]=r.useState(null),[D,Z]=r.useState(null),M=K(n,h=>B(h)),[V,U]=r.useState(null),[x,f]=r.useState(null),j=he(t),[_,A]=r.useState(!1),H=r.useRef(!1);r.useEffect(()=>{if(g)return jt(g)},[g]),Nt();const R=r.useCallback(h=>{const[T,...O]=j().map(C=>C.ref.current),[N]=O.slice(-1),b=document.activeElement;for(const C of h)if(C===b||(C==null||C.scrollIntoView({block:"nearest"}),C===T&&D&&(D.scrollTop=0),C===N&&D&&(D.scrollTop=D.scrollHeight),C==null||C.focus(),document.activeElement!==b))return},[j,D]),F=r.useCallback(()=>R([V,g]),[R,V,g]);r.useEffect(()=>{_&&F()},[_,F]);const{onOpenChange:z,triggerPointerDownPosRef:$}=m;r.useEffect(()=>{if(g){let h={x:0,y:0};const T=N=>{var b,C;h={x:Math.abs(Math.round(N.pageX)-(((b=$.current)==null?void 0:b.x)??0)),y:Math.abs(Math.round(N.pageY)-(((C=$.current)==null?void 0:C.y)??0))}},O=N=>{h.x<=10&&h.y<=10?N.preventDefault():g.contains(N.target)||z(!1),document.removeEventListener("pointermove",T),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",O,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",O,{capture:!0})}}},[g,z,$]),r.useEffect(()=>{const h=()=>z(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[z]);const[xe,ce]=at(h=>{const T=j().filter(b=>!b.disabled),O=T.find(b=>b.ref.current===document.activeElement),N=lt(T,h,O);N&&setTimeout(()=>N.ref.current.focus())}),ve=r.useCallback((h,T,O)=>{const N=!H.current&&!O;(m.value!==void 0&&m.value===T||N)&&(U(h),N&&(H.current=!0))},[m.value]),Se=r.useCallback(()=>g==null?void 0:g.focus(),[g]),te=r.useCallback((h,T,O)=>{const N=!H.current&&!O;(m.value!==void 0&&m.value===T||N)&&f(h)},[m.value]),de=s==="popper"?je:$e,se=de===je?{side:c,sideOffset:i,align:p,alignOffset:S,arrowPadding:w,collisionBoundary:P,collisionPadding:E,sticky:I,hideWhenDetached:u,avoidCollisions:v}:{};return e.jsx(Ke,{scope:t,content:g,viewport:D,onViewportChange:Z,itemRefCallback:ve,selectedItem:V,onItemLeave:Se,itemTextRefCallback:te,focusSelectedItem:F,selectedItemText:x,position:s,isPositioned:_,searchRef:xe,children:e.jsx(It,{as:to,allowPinchZoom:!0,children:e.jsx(Tt,{asChild:!0,trapped:m.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:k(l,h=>{var T;(T=m.trigger)==null||T.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(Pt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:e.jsx(de,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:h=>h.preventDefault(),...y,...se,onPlaced:()=>A(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:k(y.onKeyDown,h=>{const T=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!T&&h.key.length===1&&ce(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let N=j().filter(b=>!b.disabled).map(b=>b.ref.current);if(["ArrowUp","End"].includes(h.key)&&(N=N.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const b=h.target,C=N.indexOf(b);N=N.slice(C+1)}setTimeout(()=>R(N)),h.preventDefault()}})})})})})})});ze.displayName=eo;var oo="SelectItemAlignedPosition",$e=r.forwardRef((o,n)=>{const{__scopeSelect:t,onPlaced:s,...l}=o,d=Y(ee,t),a=q(ee,t),[c,i]=r.useState(null),[p,S]=r.useState(null),w=K(n,M=>S(M)),P=he(t),E=r.useRef(!1),I=r.useRef(!0),{viewport:u,selectedItem:v,selectedItemText:y,focusSelectedItem:m}=a,g=r.useCallback(()=>{if(d.trigger&&d.valueNode&&c&&p&&u&&v&&y){const M=d.trigger.getBoundingClientRect(),V=p.getBoundingClientRect(),U=d.valueNode.getBoundingClientRect(),x=y.getBoundingClientRect();if(d.dir!=="rtl"){const b=x.left-V.left,C=U.left-b,X=M.left-C,Q=M.width+X,we=Math.max(Q,V.width),be=window.innerWidth-W,Ce=Me(C,[W,Math.max(W,be-we)]);c.style.minWidth=Q+"px",c.style.left=Ce+"px"}else{const b=V.right-x.right,C=window.innerWidth-U.right-b,X=window.innerWidth-M.right-C,Q=M.width+X,we=Math.max(Q,V.width),be=window.innerWidth-W,Ce=Me(C,[W,Math.max(W,be-we)]);c.style.minWidth=Q+"px",c.style.right=Ce+"px"}const f=P(),j=window.innerHeight-W*2,_=u.scrollHeight,A=window.getComputedStyle(p),H=parseInt(A.borderTopWidth,10),R=parseInt(A.paddingTop,10),F=parseInt(A.borderBottomWidth,10),z=parseInt(A.paddingBottom,10),$=H+R+_+z+F,xe=Math.min(v.offsetHeight*5,$),ce=window.getComputedStyle(u),ve=parseInt(ce.paddingTop,10),Se=parseInt(ce.paddingBottom,10),te=M.top+M.height/2-W,de=j-te,se=v.offsetHeight/2,h=v.offsetTop+se,T=H+R+h,O=$-T;if(T<=te){const b=f.length>0&&v===f[f.length-1].ref.current;c.style.bottom="0px";const C=p.clientHeight-u.offsetTop-u.offsetHeight,X=Math.max(de,se+(b?Se:0)+C+F),Q=T+X;c.style.height=Q+"px"}else{const b=f.length>0&&v===f[0].ref.current;c.style.top="0px";const X=Math.max(te,H+u.offsetTop+(b?ve:0)+se)+O;c.style.height=X+"px",u.scrollTop=T-te+u.offsetTop}c.style.margin=`${W}px 0`,c.style.minHeight=xe+"px",c.style.maxHeight=j+"px",s==null||s(),requestAnimationFrame(()=>E.current=!0)}},[P,d.trigger,d.valueNode,c,p,u,v,y,d.dir,s]);G(()=>g(),[g]);const[B,D]=r.useState();G(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const Z=r.useCallback(M=>{M&&I.current===!0&&(g(),m==null||m(),I.current=!1)},[g,m]);return e.jsx(ro,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:E,onScrollButtonChange:Z,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:e.jsx(L.div,{...l,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});$e.displayName=oo;var no="SelectPopperPosition",je=r.forwardRef((o,n)=>{const{__scopeSelect:t,align:s="start",collisionPadding:l=W,...d}=o,a=ge(t);return e.jsx(Et,{...a,...d,ref:n,align:s,collisionPadding:l,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});je.displayName=no;var[ro,_e]=re(ee,{}),Ne="SelectViewport",Ge=r.forwardRef((o,n)=>{const{__scopeSelect:t,nonce:s,...l}=o,d=q(Ne,t),a=_e(Ne,t),c=K(n,d.onViewportChange),i=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(fe.Slot,{scope:t,children:e.jsx(L.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:k(l.onScroll,p=>{const S=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:P}=a;if(P!=null&&P.current&&w){const E=Math.abs(i.current-S.scrollTop);if(E>0){const I=window.innerHeight-W*2,u=parseFloat(w.style.minHeight),v=parseFloat(w.style.height),y=Math.max(u,v);if(y<I){const m=y+E,g=Math.min(I,m),B=m-g;w.style.height=g+"px",w.style.bottom==="0px"&&(S.scrollTop=B>0?B:0,w.style.justifyContent="flex-end")}}}i.current=S.scrollTop})})})]})});Ge.displayName=Ne;var Ye="SelectGroup",[so,ao]=re(Ye),lo=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o,l=Ee();return e.jsx(so,{scope:t,id:l,children:e.jsx(L.div,{role:"group","aria-labelledby":l,...s,ref:n})})});lo.displayName=Ye;var qe="SelectLabel",io=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o,l=ao(qe,t);return e.jsx(L.div,{id:l.id,...s,ref:n})});io.displayName=qe;var me="SelectItem",[co,Ze]=re(me),Xe=r.forwardRef((o,n)=>{const{__scopeSelect:t,value:s,disabled:l=!1,textValue:d,...a}=o,c=Y(me,t),i=q(me,t),p=c.value===s,[S,w]=r.useState(d??""),[P,E]=r.useState(!1),I=K(n,m=>{var g;return(g=i.itemRefCallback)==null?void 0:g.call(i,m,s,l)}),u=Ee(),v=r.useRef("touch"),y=()=>{l||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(co,{scope:t,value:s,disabled:l,textId:u,isSelected:p,onItemTextChange:r.useCallback(m=>{w(g=>g||((m==null?void 0:m.textContent)??"").trim())},[]),children:e.jsx(fe.ItemSlot,{scope:t,value:s,disabled:l,textValue:S,children:e.jsx(L.div,{role:"option","aria-labelledby":u,"data-highlighted":P?"":void 0,"aria-selected":p&&P,"data-state":p?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...a,ref:I,onFocus:k(a.onFocus,()=>E(!0)),onBlur:k(a.onBlur,()=>E(!1)),onClick:k(a.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:k(a.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:k(a.onPointerDown,m=>{v.current=m.pointerType}),onPointerMove:k(a.onPointerMove,m=>{var g;v.current=m.pointerType,l?(g=i.onItemLeave)==null||g.call(i):v.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:k(a.onPointerLeave,m=>{var g;m.currentTarget===document.activeElement&&((g=i.onItemLeave)==null||g.call(i))}),onKeyDown:k(a.onKeyDown,m=>{var B;((B=i.searchRef)==null?void 0:B.current)!==""&&m.key===" "||(Gt.includes(m.key)&&y(),m.key===" "&&m.preventDefault())})})})})});Xe.displayName=me;var ie="SelectItemText",Qe=r.forwardRef((o,n)=>{const{__scopeSelect:t,className:s,style:l,...d}=o,a=Y(ie,t),c=q(ie,t),i=Ze(ie,t),p=Xt(ie,t),[S,w]=r.useState(null),P=K(n,y=>w(y),i.onItemTextChange,y=>{var m;return(m=c.itemTextRefCallback)==null?void 0:m.call(c,y,i.value,i.disabled)}),E=S==null?void 0:S.textContent,I=r.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:E},i.value),[i.disabled,i.value,E]),{onNativeOptionAdd:u,onNativeOptionRemove:v}=p;return G(()=>(u(I),()=>v(I)),[u,v,I]),e.jsxs(e.Fragment,{children:[e.jsx(L.span,{id:i.textId,...d,ref:P}),i.isSelected&&a.valueNode&&!a.valueNodeHasChildren?De.createPortal(d.children,a.valueNode):null]})});Qe.displayName=ie;var Je="SelectItemIndicator",et=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o;return Ze(Je,t).isSelected?e.jsx(L.span,{"aria-hidden":!0,...s,ref:n}):null});et.displayName=Je;var Ie="SelectScrollUpButton",tt=r.forwardRef((o,n)=>{const t=q(Ie,o.__scopeSelect),s=_e(Ie,o.__scopeSelect),[l,d]=r.useState(!1),a=K(n,s.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=i.scrollTop>0;d(p)};const i=t.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),l?e.jsx(nt,{...o,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=t;c&&i&&(c.scrollTop=c.scrollTop-i.offsetHeight)}}):null});tt.displayName=Ie;var Te="SelectScrollDownButton",ot=r.forwardRef((o,n)=>{const t=q(Te,o.__scopeSelect),s=_e(Te,o.__scopeSelect),[l,d]=r.useState(!1),a=K(n,s.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=i.scrollHeight-i.clientHeight,S=Math.ceil(i.scrollTop)<p;d(S)};const i=t.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),l?e.jsx(nt,{...o,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=t;c&&i&&(c.scrollTop=c.scrollTop+i.offsetHeight)}}):null});ot.displayName=Te;var nt=r.forwardRef((o,n)=>{const{__scopeSelect:t,onAutoScroll:s,...l}=o,d=q("SelectScrollButton",t),a=r.useRef(null),c=he(t),i=r.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return r.useEffect(()=>()=>i(),[i]),G(()=>{var S;const p=c().find(w=>w.ref.current===document.activeElement);(S=p==null?void 0:p.ref.current)==null||S.scrollIntoView({block:"nearest"})},[c]),e.jsx(L.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:k(l.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:k(l.onPointerMove,()=>{var p;(p=d.onItemLeave)==null||p.call(d),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:k(l.onPointerLeave,()=>{i()})})}),uo="SelectSeparator",po=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o;return e.jsx(L.div,{"aria-hidden":!0,...s,ref:n})});po.displayName=uo;var Pe="SelectArrow",mo=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o,l=ge(t),d=Y(Pe,t),a=q(Pe,t);return d.open&&a.position==="popper"?e.jsx(_t,{...l,...s,ref:n}):null});mo.displayName=Pe;var fo="SelectBubbleInput",rt=r.forwardRef(({__scopeSelect:o,value:n,...t},s)=>{const l=r.useRef(null),d=K(s,l),a=zt(n);return r.useEffect(()=>{const c=l.current;if(!c)return;const i=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==n&&S){const w=new Event("change",{bubbles:!0});S.call(c,n),c.dispatchEvent(w)}},[a,n]),e.jsx(L.select,{...t,style:{...kt,...t.style},ref:d,defaultValue:n})});rt.displayName=fo;function st(o){return o===""||o===void 0}function at(o){const n=yt(o),t=r.useRef(""),s=r.useRef(0),l=r.useCallback(a=>{const c=t.current+a;n(c),function i(p){t.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>i(""),1e3))}(c)},[n]),d=r.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,l,d]}function lt(o,n,t){const l=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,d=t?o.indexOf(t):-1;let a=ho(o,Math.max(d,0));l.length===1&&(a=a.filter(p=>p!==t));const i=a.find(p=>p.textValue.toLowerCase().startsWith(l.toLowerCase()));return i!==t?i:void 0}function ho(o,n){return o.map((t,s)=>o[(n+s)%o.length])}var go=Oe,xo=Be,vo=He,So=Fe,wo=Ue,bo=We,Co=Ge,yo=Xe,jo=Qe,No=et,Io=tt,To=ot;function Po(o,n){if(o==null)return{};var t={},s=Object.keys(o),l,d;for(d=0;d<s.length;d++)l=s[d],!(n.indexOf(l)>=0)&&(t[l]=o[l]);return t}var Eo=["color"],_o=r.forwardRef(function(o,n){var t=o.color,s=t===void 0?"currentColor":t,l=Po(o,Eo);return r.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l,{ref:n}),r.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))});function Ro({...o}){return e.jsx(go,{"data-slot":"select",...o})}function ko({...o}){return e.jsx(vo,{"data-slot":"select-value",...o})}function Mo({className:o,children:n,...t}){return e.jsxs(xo,{"data-slot":"select-trigger",className:ne("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",o),...t,children:[n,e.jsx(So,{asChild:!0,children:e.jsx(_o,{className:"size-4 opacity-50"})})]})}function Do({className:o,children:n,position:t="popper",...s}){return e.jsx(wo,{children:e.jsxs(bo,{"data-slot":"select-content",className:ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...s,children:[e.jsx(Oo,{}),e.jsx(Co,{className:ne("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(Lo,{})]})})}function Ao({className:o,children:n,...t}){return e.jsxs(yo,{"data-slot":"select-item",className:ne("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(No,{children:e.jsx(Kt,{className:"size-4"})})}),e.jsx(jo,{children:n})]})}function Oo({className:o,...n}){return e.jsx(Io,{"data-slot":"select-scroll-up-button",className:ne("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(At,{className:"size-4"})})}function Lo({className:o,...n}){return e.jsx(To,{"data-slot":"select-scroll-down-button",className:ne("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(Ot,{className:"size-4"})})}function cn({indikator:o,breadcrumb:n,titlePage:t,can:s}){const l=r.useMemo(()=>n?n.map(x=>({title:x.title,href:x.href})):[],[n]),{data:d,setData:a,post:c,put:i,processing:p,errors:S}=it({id:null,nama:"",keterangan:"",attribut:[{batas:0,operator:"",nilai:""}]}),[w,P]=r.useState(null),E=x=>{x.preventDefault(),w==null?c(route("admin.indikator.store"),{preserveState:!0,onSuccess:()=>{a({id:null,nama:"",keterangan:"",attribut:[{batas:0,operator:"",nilai:""}]}),u(!1)},onError:f=>{console.error(f)}}):(console.log(d.attribut),i(route("admin.indikator.update",w),{preserveState:!0,onSuccess:()=>{a({id:null,nama:"",keterangan:"",attribut:[{batas:0,operator:"",nilai:""}]}),P(null),u(!1)},onError:f=>{console.error(f)}}))},[I,u]=r.useState(!1),v=x=>{if(x){const f=o.filter(j=>j.id===x,[])[0];if(P(f.id),f){const j=f.attribut!=null?f.attribut:[{batas:0,operator:"",nilai:""}];a({id:f.id,nama:f.nama,keterangan:f.keterangan,attribut:j})}u(!0)}},[y,m]=r.useState(!1),[g,B]=r.useState(1),D=x=>{const{name:f,value:j}=x.target,_=f.split(".")[1],A=f.split(".")[0];console.log(_,A),a(H=>({...H,attribut:H.attribut.map((R,F)=>F===Number(_)?{...R,[A]:j}:R)}))},Z=()=>{d.attribut.length<3&&a(x=>({...x,attribut:[...x.attribut,{batas:0,operator:"",nilai:""}]}))},M=x=>{a(f=>({...f,attribut:f.attribut.filter((j,_)=>_!==x)}))},V=(x,f)=>{a(j=>({...j,attribut:j.attribut.map((_,A)=>A===Number(x)?{..._,operator:f}:_)}))},U=()=>{if(s.add||s.edit||s.delete)return!0};return e.jsxs(Mt,{breadcrumbs:l,children:[e.jsx(ct,{title:t??"Indikator"}),e.jsx(ut,{children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Parameter Nutrisi Rekomendasi Makanan"}),s.add&&e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:e.jsx(oe,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>u(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-md border",children:e.jsxs(Lt,{className:"min-w-full",children:[e.jsx(Bt,{children:e.jsxs(ye,{children:[e.jsx(pe,{className:"cursor-pointer",children:"no"}),e.jsx(pe,{className:"cursor-pointer",children:"Nama"}),e.jsx(pe,{className:"cursor-pointer",children:"keterangan"}),U()&&e.jsx(pe,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(Vt,{children:o.length>0?o.map((x,f)=>e.jsxs(ye,{children:[e.jsx(le,{children:f+1}),e.jsx(le,{children:x.nama}),e.jsx(le,{children:x.keterangan}),U()&&e.jsx(le,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[s.edit&&e.jsxs(oe,{type:"button",variant:"default",tooltip:"edit",onClick:()=>v(x.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(Ht,{})," "]}),s.delete&&e.jsx(dt,{title:`Hapus indikator ${x.id}`,id:x.id,url:route("admin.indikator.destroy",{indikator:x.id}),setOpenDialog:m})]})})]},x.id)):e.jsx(ye,{children:e.jsx(le,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(pt,{open:I,onOpenChange:u,children:e.jsxs(mt,{children:[e.jsx(ft,{children:e.jsxs(ht,{children:[w?"Edit":"Tambah"," Indikator"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:E,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ae,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Indikator"}),e.jsx(ue,{type:"text",value:d.nama,onChange:x=>a("nama",x.target.value),id:"nama",name:"nama",className:"input",disabled:p,placeholder:"Masukkan nama indikator",readOnly:!s.add}),e.jsx(Re,{message:S.nama,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ae,{htmlFor:"keterangan",className:"text-sm font-medium",children:"Keterangan"}),e.jsx(ue,{type:"text",value:d.keterangan,onChange:x=>a("keterangan",x.target.value),id:"keterangan",name:"keterangan",className:"input",disabled:p,placeholder:"Masukkan keterangan indikator"}),e.jsx(Re,{message:S.keterangan,className:"mt-2"})]}),s.add&&s.edit&&s.delete&&e.jsxs("div",{className:"block space-y-2",children:[d.attribut.map((x,f)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"",children:[e.jsx(ae,{htmlFor:"batas."+f,className:"text-sm font-medium",children:"Batas"}),e.jsx(ue,{type:"text",name:"batas."+f,value:d.attribut[f].batas,onChange:D,id:"batas."+f,className:"input",disabled:p,placeholder:"Masukkan batas indikator"})]}),e.jsxs("div",{className:"",children:[e.jsx(ae,{htmlFor:"operator."+f,className:"text-sm font-medium",children:"Operator"}),e.jsxs(Ro,{value:d.attribut[f].operator||"",required:!0,onValueChange:j=>V(f.toLocaleString(),j),children:[e.jsx(Mo,{className:"input-minimal",children:e.jsx(ko,{placeholder:"Pilih"})}),e.jsx(Do,{children:["<","<=",">"].map((j,_)=>e.jsx(Ao,{value:j,children:j},_))})]})]}),e.jsxs("div",{className:"",children:[e.jsx(ae,{htmlFor:"nilai."+f,className:"text-sm font-medium",children:"Nilai"}),e.jsx(ue,{type:"text",name:"nilai."+f,value:d.attribut[f].nilai,onChange:D,id:"nilai."+f,className:"input",disabled:p,placeholder:"Masukkan nilai indikator"})]}),e.jsx("div",{children:e.jsxs(oe,{type:"button",variant:"destructive",size:"sm",onClick:()=>M(f),children:[" ",e.jsx(Ft,{})]})})]},f)),e.jsx(oe,{type:"button",variant:"outline",size:"sm",onClick:Z,children:"+ Tambah Operator"})]})]}),e.jsxs(gt,{children:[e.jsx(oe,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Batal"}),e.jsxs(oe,{type:"submit",children:[p&&e.jsx(Ut,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{cn as default};
