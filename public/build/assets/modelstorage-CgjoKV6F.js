import{r as b,j as s,b as w}from"./app-BlV91FWz.js";import{m as N}from"./proxy-DsGhCzcj.js";import{A as R}from"./ClusterVisualization-C0Gp4rvU.js";const K=({data:l})=>{const[o,t]=b.useState("Pagi"),[i,f]=b.useState("MENU"),[c,y]=b.useState("asc"),m=l.filter(e=>e.clusterResult==="Pagi"),x=l.filter(e=>e.clusterResult==="Siang"),u=l.filter(e=>e.clusterResult==="Malam"),k=e=>{e===i?y(c==="asc"?"desc":"asc"):(f(e),y("asc"))},g=e=>[...e].sort((r,p)=>{const n=r[i],a=p[i];return typeof n=="string"&&typeof a=="string"?c==="asc"?n.localeCompare(a):a.localeCompare(n):c==="asc"?n-a:a-n}),j=()=>{switch(o){case"Pagi":return g(m);case"Siang":return g(x);case"Malam":return g(u);default:return[]}},d=e=>{switch(e){case"Pagi":return"bg-amber-100 text-amber-800 border-amber-300";case"Siang":return"bg-blue-100 text-blue-800 border-blue-300";case"Malam":return"bg-indigo-100 text-indigo-800 border-indigo-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},v={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return s.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-lg",children:[s.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-800",children:"Rekomendasi Makanan Berdasarkan Waktu"}),s.jsx("div",{className:"mb-6 flex border-b border-gray-200",children:["Pagi","Siang","Malam"].map(e=>s.jsxs("button",{className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-all duration-200 ${o===e?`${d(e).split(" ")[0]} ${d(e).split(" ")[1]} border-t border-r border-l`:"text-gray-500 hover:bg-gray-100 hover:text-gray-700"}`,onClick:()=>t(e),children:[e," (",e==="Pagi"?m.length:e==="Siang"?x.length:u.length,")"]},e))}),s.jsx("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:["Pagi","Siang","Malam"].map(e=>{const r=e==="Pagi"?m:e==="Siang"?x:u,p=r.reduce((a,h)=>a+h.KALORI,0),n=r.reduce((a,h)=>a+h.PROTEIN,0);return s.jsxs(N.div,{whileHover:{y:-5},className:`rounded-lg border p-4 ${d(e)}`,children:[s.jsxs("h3",{className:"mb-2 font-semibold",children:["Makanan ",e]}),s.jsxs("p",{className:"text-sm",children:["Jumlah: ",r.length," menu"]}),s.jsxs("p",{className:"text-sm",children:["Total Kalori: ",p.toFixed(0)," kcal"]}),s.jsxs("p",{className:"text-sm",children:["Total Protein: ",n.toFixed(1)," g"]})]},e)})}),s.jsx("div",{className:"overflow-x-auto rounded-lg shadow",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:["MENU","KALORI","PROTEIN","LEMAK","KARBOHIDRAT","KLUSTER"].map(e=>s.jsx("th",{className:"cursor-pointer px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase transition-colors hover:bg-gray-100",onClick:()=>k(e==="KLUSTER"?"clusterResult":e),children:s.jsxs("div",{className:"flex items-center",children:[e,i===(e==="KLUSTER"?"clusterResult":e)&&s.jsx("span",{className:"ml-1",children:c==="asc"?"↑":"↓"})]})},e))})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.jsx(R,{children:j().map((e,r)=>s.jsxs(N.tr,{variants:v,initial:"hidden",animate:"visible",exit:"hidden",className:"transition-colors hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-medium whitespace-nowrap text-gray-900",children:e.MENU}),s.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-500",children:[e.KALORI," kcal"]}),s.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-500",children:[e.PROTEIN,"g"]}),s.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-500",children:[e.LEMAK,"g"]}),s.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-500",children:[e.KARBOHIDRAT,"g"]}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${d(e.clusterResult)}`,children:e.clusterResult})})]},r))})})]})}),j().length===0&&s.jsxs("div",{className:"py-8 text-center text-gray-500",children:["Tidak ada data makanan untuk waktu ",o]}),s.jsxs("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[s.jsx("h3",{className:"mb-2 font-semibold text-blue-800",children:"Informasi Gizi"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Rekomendasi makanan ini dikelompokkan berdasarkan waktu konsumsi yang optimal untuk memaksimalkan penyerapan nutrisi dan menjaga keseimbangan energi sepanjang hari."})]})]})};async function M(l,o){try{const t={model_name:o,model_json:l};console.log(t);const i=await w.post(route("model.store"),t,{headers:{"Content-Type":"application/json"}});return{success:!0,message:"Model saved successfully"}}catch(t){return console.error("Error saving model:",t),{success:!1,message:t instanceof Error?t.message:"Unknown error occurred"}}}export{K,M as s};
