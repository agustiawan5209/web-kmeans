import{m as w,j as o,L as h}from"./app-d-qLC2bI.js";import{B as L}from"./button-CyJA0Jg8.js";import{A as v}from"./app-layout-BbWfdxMS.js";import D from"./form-BAVoxalu.js";import{L as E}from"./loader-circle-VM8AHDZI.js";import"./index-BxjIx0XT.js";import"./heart-Io_ILL2I.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-CxW8n3fz.js";import"./nav-user-CaII_K-8.js";import"./index-Cjss2uYZ.js";import"./chart-column-CU0hT-2t.js";import"./apple-VVlg1qhw.js";import"./label-BAoA9aug.js";import"./card-CjhSzdei.js";function K({breadcrumb:d,indikator:p,titlePage:c,hasilMakanan:t}){const u=d?d.map(e=>({title:e.title,href:e.href})):[],{data:l,setData:i,put:f,processing:x,errors:b}=w({label:(t==null?void 0:t.label)||"",parameter:(t==null?void 0:t.parameter)||p.map((e,r)=>({indikator_id:p[r].id,nilai:null}))}),j=e=>{const{name:r,value:m}=e.target,a=r.split(".")[1];r.includes("parameter")?i(s=>({...s,parameter:s.parameter.map((n,N)=>N===Number(a)?{...n,nilai:m}:n)})):i(s=>({...s,[r]:m}))},y=(e,r)=>{e&&r!==void 0&&l&&l.parameter?e==="label"||e==="jenis_tanaman"||e=="bulan"?i(m=>({...m,[e]:r})):i(m=>({...m,parameter:m.parameter.map((a,s)=>s===Number(e)?{...a,nilai:r}:a)})):console.error("Invalid data: name, value, or parameter may be undefined")},g=e=>{e.preventDefault(),f(route("admin.hasilMakanan.update",{hasilMakanan:t==null?void 0:t.id}),{onError:r=>{console.log(r)}})};return o.jsxs(v,{breadcrumbs:u,children:[o.jsx(h,{title:c??"Edit Dataset Makanan"}),o.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[o.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Edit Dataset Makanan"}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsx(D,{data:l,errors:b,indikator:p,handleChange:j,handleSelectChange:y}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(L,{type:"submit",variant:"default",children:[x&&o.jsx(E,{className:"h-4 w-4 animate-spin"}),"Update Data"]})})]})]})]})}export{K as default};
