import{r as g,j as e,L as y}from"./app-BlV91FWz.js";import{K as k}from"./kluster-table-CbVdD492.js";import{M as h}from"./main-layout-9eCOrzgp.js";import{m as l}from"./proxy-DsGhCzcj.js";import"./nav-user-B6EpVxWy.js";import"./index-CrlaN-4L.js";import"./index-BPCQFoo6.js";import"./index-C1EK9aED.js";import"./utils-CiMRq3MP.js";import"./clsx-B-dksMZM.js";import"./index-oc6sIK1v.js";import"./createLucideIcon-x4OClAdX.js";import"./button-C4N_RWVe.js";import"./heart-CHMJLmFd.js";import"./x-Cr2yBpL3.js";function R({healthData:r,kluster:p}){const b=["Pagi","Siang","Malam"];p.map(t=>{var s;return{...t,clusterResult:b[((s=t.clusterResult)==null?void 0:s.cluster)||0]}});const[a,x]=g.useState(null),[N,f]=g.useState(!0);console.log(r);const m=(t,s)=>t>=180&&s>=120?{type:"Hipertensi Krisis",color:"text-red-600",bgColor:"bg-red-100"}:t>=140&&s>=90?{type:"Hipertensi Tahap 2",color:"text-orange-600",bgColor:"bg-orange-100"}:t>=130&&s>=80?{type:"Hipertensi Tahap 1",color:"text-yellow-600",bgColor:"bg-yellow-100"}:t>=120&&s<80?{type:"Prahipertensi",color:"text-blue-600",bgColor:"bg-blue-100"}:{type:"Normal",color:"text-green-600",bgColor:"bg-green-100"},o=(t,s)=>{const n=s/100,i=t/(n*n);let d="",c="";return i<18.5?(d="Kekurangan berat badan",c="text-blue-600"):i>=18.5&&i<25?(d="Normal (ideal)",c="text-green-600"):i>=25&&i<30?(d="Kelebihan berat badan",c="text-yellow-600"):(d="Obesitas",c="text-red-600"),{value:parseFloat(i.toFixed(1)),category:d,color:c}},u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},j={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.5}}};return r===null||r.length===0?e.jsx(h,{children:e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md rounded-xl bg-white p-8 text-center shadow-lg",children:[e.jsx("div",{className:"mb-4 text-5xl",children:"ðŸ“‹"}),e.jsx("h2",{className:"mb-4 text-2xl font-bold text-gray-800",children:"Tidak Ada Data"}),e.jsx("p",{className:"mb-6 text-gray-600",children:"Belum ada data kesehatan yang tersimpan. Silakan isi form terlebih dahulu."}),e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"rounded-lg bg-blue-500 px-6 py-2 font-medium text-white",onClick:()=>window.location.href="/",children:"Kembali ke Form"})]})})}):e.jsxs(h,{children:[e.jsx(y,{title:"Data Kesehatan Pengguna"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:e.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-800",children:"Data Kesehatan Pengguna"}),e.jsx("p",{className:"text-gray-600",children:"Rekam medis dan hasil analisis kesehatan"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Total: ",r.length," data tersimpan"]})]}),a?e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"mb-8 overflow-hidden rounded-xl bg-white shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-1"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Detail Data Kesehatan"}),e.jsx("button",{onClick:()=>x(null),className:"text-2xl text-gray-500 hover:text-gray-700",children:"âœ•"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Nama Lengkap"}),e.jsx("p",{className:"text-lg font-semibold",children:a.nama})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Jenis Kelamin"}),e.jsx("p",{className:"text-lg font-semibold",children:a.jenkel})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Usia"}),e.jsxs("p",{className:"text-lg font-semibold",children:[a.usia," tahun"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Berat & Tinggi Badan"}),e.jsxs("p",{className:"text-lg font-semibold",children:[a.berat_badan," kg / ",a.tinggi_badan," cm"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Tekanan Darah"}),e.jsxs("p",{className:"text-lg font-semibold",children:[a.tekanan_sistolik," / ",a.tekanan_diastolik," mmHg"]}),a.tekanan_sistolik&&a.tekanan_diastolik&&e.jsxs(l.span,{initial:{opacity:0},animate:{opacity:1},className:`mt-2 inline-block rounded-full px-3 py-1 text-sm font-medium ${m(parseInt(a.tekanan_sistolik)||0,parseInt(a.tekanan_diastolik)||0).bgColor} ${m(parseInt(a.tekanan_sistolik)||0,parseInt(a.tekanan_diastolik)||0).color}`,children:["Tingkatan Jenis Hipertensi: ",a.hipertensi]})]}),a.berat_badan&&a.tinggi_badan&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Indeks Massa Tubuh (IMT)"}),o(parseFloat(a.berat_badan)||0,parseFloat(a.tinggi_badan)||0)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg font-semibold",children:o(parseFloat(a.berat_badan)||0,parseFloat(a.tinggi_badan)||0).value}),e.jsx("p",{className:o(parseFloat(a.berat_badan)||0,parseFloat(a.tinggi_badan)||0).color,children:o(parseFloat(a.berat_badan)||0,parseFloat(a.tinggi_badan)||0).category})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Riwayat Penyakit"}),e.jsx("p",{className:"text-lg font-semibold",children:a.riwayat_penyakit||"Tidak ada riwayat penyakit"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-500",children:"Alergi Makanan"}),e.jsx("p",{className:"text-lg font-semibold",children:a.alergi_makanan||"Tidak ada alergi makanan"})]})]})]}),e.jsx(k,{data:a.kluster})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(l.div,{variants:u,initial:"hidden",animate:"visible",className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map((t,s)=>{const n=t.tekanan_sistolik&&t.tekanan_diastolik?m(parseInt(t.tekanan_sistolik)||0,parseInt(t.tekanan_diastolik)||0):null,i=t.berat_badan&&t.tinggi_badan?o(parseFloat(t.berat_badan)||0,parseFloat(t.tinggi_badan)||0):null;return e.jsxs(l.div,{variants:j,whileHover:{y:-5,transition:{duration:.2}},className:"cursor-pointer overflow-hidden rounded-xl bg-white shadow-md",onClick:()=>x(t),children:[e.jsxs("div",{className:`p-4 ${(n==null?void 0:n.bgColor)||"bg-gray-100"}`,children:[e.jsx("h3",{className:"truncate text-xl font-bold text-gray-800",children:t.nama||"Tidak ada nama"}),e.jsxs("p",{className:"text-gray-600",children:[t.jenkel||"Tidak diketahui",", ",t.usia||"0"," tahun"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Tekanan Darah"}),n&&e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${n.bgColor} ${n.color}`,children:n.type})]}),e.jsx("p",{className:"mb-4 text-lg font-semibold",children:t.tekanan_sistolik&&t.tekanan_diastolik?`${t.tekanan_sistolik}/${t.tekanan_diastolik} mmHg`:"Tidak ada data"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"BMI"}),i&&e.jsxs("p",{className:`text-lg font-semibold ${i.color}`,children:[i.value," ",e.jsxs("span",{className:"text-xs",children:["(",i.category,")"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Berat/Tinggi"}),e.jsxs("p",{className:"text-lg font-semibold",children:[t.berat_badan||"-"," kg / ",t.tinggi_badan||"-"," cm"]})]})]})]}),e.jsx("div",{className:"bg-gray-50 p-3 text-center text-sm text-gray-500",children:"Klik untuk melihat detail"})]},s)})}),e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center",children:e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mr-4 rounded-lg bg-blue-500 px-6 py-2 font-medium text-white",onClick:()=>window.location.href="/form/rekomendasi",children:"Tambah Data Baru"})})]})]})})]})}export{R as default};
