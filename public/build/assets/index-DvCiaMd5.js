import{r,j as e,m as it,L as ct}from"./app-B5Nj6sQ-.js";import{D as dt}from"./delete-confirmation-form-vz0j2RHR.js";import{L as ae,I as ue,a as Re}from"./label-7eLgo8pF.js";import{B as oe}from"./button-CoTckYPf.js";import{C as ut}from"./card-Cymmos_5.js";import{D as pt,a as mt,b as ft,c as ht,d as gt}from"./dialog-CyvCOhAv.js";import{r as De}from"./index-DXJ5B3or.js";import{c as Ae,u as xt,a as ke,R as vt,b as St,d as Ee,e as wt,A as bt,f as k,g as G,P as yt,h as Ct,i as Nt,j as jt,k as It,F as Tt,D as Pt,C as Et,l as _t}from"./nav-user-Ux87DQiI.js";import{u as K,c as Rt}from"./index-BMaf9g36.js";import{P as L}from"./index-BvjW9_lV.js";import{V as kt,C as Mt,A as Dt}from"./app-layout-D9zkOriW.js";import{c as ne}from"./utils-CiMRq3MP.js";import{c as At}from"./createLucideIcon-B4ZyXjo0.js";import{C as Ot,a as Lt}from"./chevron-up-BEMDIiCd.js";import{T as Bt,a as Vt,b as Ce,c as pe,d as Ht,e as le}from"./table-BWpqXHa6.js";import{S as Ft}from"./square-pen-DPeYxOOR.js";import{X as Ut}from"./x-BuKHtu3p.js";import{L as Wt}from"./loader-circle-D7CdK0b1.js";import"./heart-hQnTWBYB.js";import"./clsx-B-dksMZM.js";import"./index-DHloS4bE.js";import"./chart-column-BpqsrlGn.js";import"./apple-Bl0DHOQJ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zt=At("Check",Kt);function Me(o,[n,t]){return Math.min(t,Math.max(n,o))}function $t(o){const n=r.useRef({value:o,previous:o});return r.useMemo(()=>(n.current.value!==o&&(n.current.previous=n.current.value,n.current.value=o),n.current.previous),[o])}var Gt=[" ","Enter","ArrowUp","ArrowDown"],Yt=[" ","Enter"],Q="Select",[fe,he,qt]=wt(Q),[re,sn]=St(Q,[qt,Ae]),ge=Ae(),[Xt,Y]=re(Q),[Zt,Jt]=re(Q),Oe=o=>{const{__scopeSelect:n,children:t,open:a,defaultOpen:c,onOpenChange:u,value:s,defaultValue:i,onValueChange:l,dir:p,name:S,autoComplete:w,disabled:P,required:E,form:I}=o,d=ge(n),[v,C]=r.useState(null),[m,g]=r.useState(null),[B,D]=r.useState(!1),X=xt(p),[M,V]=ke({prop:a,defaultProp:c??!1,onChange:u,caller:Q}),[U,x]=ke({prop:s,defaultProp:i,onChange:l,caller:Q}),f=r.useRef(null),N=v?I||!!v.closest("form"):!0,[_,A]=r.useState(new Set),H=Array.from(_).map(R=>R.props.value).join(";");return e.jsx(vt,{...d,children:e.jsxs(Xt,{required:E,scope:n,trigger:v,onTriggerChange:C,valueNode:m,onValueNodeChange:g,valueNodeHasChildren:B,onValueNodeHasChildrenChange:D,contentId:Ee(),value:U,onValueChange:x,open:M,onOpenChange:V,dir:X,triggerPointerDownPosRef:f,disabled:P,children:[e.jsx(fe.Provider,{scope:n,children:e.jsx(Zt,{scope:o.__scopeSelect,onNativeOptionAdd:r.useCallback(R=>{A(F=>new Set(F).add(R))},[]),onNativeOptionRemove:r.useCallback(R=>{A(F=>{const z=new Set(F);return z.delete(R),z})},[]),children:t})}),N?e.jsxs(rt,{"aria-hidden":!0,required:E,tabIndex:-1,name:S,autoComplete:w,value:U,onChange:R=>x(R.target.value),disabled:P,form:I,children:[U===void 0?e.jsx("option",{value:""}):null,Array.from(_)]},H):null]})})};Oe.displayName=Q;var Le="SelectTrigger",Be=r.forwardRef((o,n)=>{const{__scopeSelect:t,disabled:a=!1,...c}=o,u=ge(t),s=Y(Le,t),i=s.disabled||a,l=K(n,s.onTriggerChange),p=he(t),S=r.useRef("touch"),[w,P,E]=at(d=>{const v=p().filter(g=>!g.disabled),C=v.find(g=>g.value===s.value),m=lt(v,d,C);m!==void 0&&s.onValueChange(m.value)}),I=d=>{i||(s.onOpenChange(!0),E()),d&&(s.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)})};return e.jsx(bt,{asChild:!0,...u,children:e.jsx(L.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":st(s.value)?"":void 0,...c,ref:l,onClick:k(c.onClick,d=>{d.currentTarget.focus(),S.current!=="mouse"&&I(d)}),onPointerDown:k(c.onPointerDown,d=>{S.current=d.pointerType;const v=d.target;v.hasPointerCapture(d.pointerId)&&v.releasePointerCapture(d.pointerId),d.button===0&&d.ctrlKey===!1&&d.pointerType==="mouse"&&(I(d),d.preventDefault())}),onKeyDown:k(c.onKeyDown,d=>{const v=w.current!=="";!(d.ctrlKey||d.altKey||d.metaKey)&&d.key.length===1&&P(d.key),!(v&&d.key===" ")&&Gt.includes(d.key)&&(I(),d.preventDefault())})})})});Be.displayName=Le;var Ve="SelectValue",He=r.forwardRef((o,n)=>{const{__scopeSelect:t,className:a,style:c,children:u,placeholder:s="",...i}=o,l=Y(Ve,t),{onValueNodeHasChildrenChange:p}=l,S=u!==void 0,w=K(n,l.onValueNodeChange);return G(()=>{p(S)},[p,S]),e.jsx(L.span,{...i,ref:w,style:{pointerEvents:"none"},children:st(l.value)?e.jsx(e.Fragment,{children:s}):u})});He.displayName=Ve;var Qt="SelectIcon",Fe=r.forwardRef((o,n)=>{const{__scopeSelect:t,children:a,...c}=o;return e.jsx(L.span,{"aria-hidden":!0,...c,ref:n,children:a||"â–¼"})});Fe.displayName=Qt;var eo="SelectPortal",Ue=o=>e.jsx(yt,{asChild:!0,...o});Ue.displayName=eo;var ee="SelectContent",We=r.forwardRef((o,n)=>{const t=Y(ee,o.__scopeSelect),[a,c]=r.useState();if(G(()=>{c(new DocumentFragment)},[]),!t.open){const u=a;return u?De.createPortal(e.jsx(Ke,{scope:o.__scopeSelect,children:e.jsx(fe.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),u):null}return e.jsx(ze,{...o,ref:n})});We.displayName=ee;var W=10,[Ke,q]=re(ee),to="SelectContentImpl",oo=Rt("SelectContent.RemoveScroll"),ze=r.forwardRef((o,n)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:s,side:i,sideOffset:l,align:p,alignOffset:S,arrowPadding:w,collisionBoundary:P,collisionPadding:E,sticky:I,hideWhenDetached:d,avoidCollisions:v,...C}=o,m=Y(ee,t),[g,B]=r.useState(null),[D,X]=r.useState(null),M=K(n,h=>B(h)),[V,U]=r.useState(null),[x,f]=r.useState(null),N=he(t),[_,A]=r.useState(!1),H=r.useRef(!1);r.useEffect(()=>{if(g)return Nt(g)},[g]),jt();const R=r.useCallback(h=>{const[T,...O]=N().map(y=>y.ref.current),[j]=O.slice(-1),b=document.activeElement;for(const y of h)if(y===b||(y==null||y.scrollIntoView({block:"nearest"}),y===T&&D&&(D.scrollTop=0),y===j&&D&&(D.scrollTop=D.scrollHeight),y==null||y.focus(),document.activeElement!==b))return},[N,D]),F=r.useCallback(()=>R([V,g]),[R,V,g]);r.useEffect(()=>{_&&F()},[_,F]);const{onOpenChange:z,triggerPointerDownPosRef:$}=m;r.useEffect(()=>{if(g){let h={x:0,y:0};const T=j=>{var b,y;h={x:Math.abs(Math.round(j.pageX)-(((b=$.current)==null?void 0:b.x)??0)),y:Math.abs(Math.round(j.pageY)-(((y=$.current)==null?void 0:y.y)??0))}},O=j=>{h.x<=10&&h.y<=10?j.preventDefault():g.contains(j.target)||z(!1),document.removeEventListener("pointermove",T),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",O,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",O,{capture:!0})}}},[g,z,$]),r.useEffect(()=>{const h=()=>z(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[z]);const[xe,ce]=at(h=>{const T=N().filter(b=>!b.disabled),O=T.find(b=>b.ref.current===document.activeElement),j=lt(T,h,O);j&&setTimeout(()=>j.ref.current.focus())}),ve=r.useCallback((h,T,O)=>{const j=!H.current&&!O;(m.value!==void 0&&m.value===T||j)&&(U(h),j&&(H.current=!0))},[m.value]),Se=r.useCallback(()=>g==null?void 0:g.focus(),[g]),te=r.useCallback((h,T,O)=>{const j=!H.current&&!O;(m.value!==void 0&&m.value===T||j)&&f(h)},[m.value]),de=a==="popper"?Ne:$e,se=de===Ne?{side:i,sideOffset:l,align:p,alignOffset:S,arrowPadding:w,collisionBoundary:P,collisionPadding:E,sticky:I,hideWhenDetached:d,avoidCollisions:v}:{};return e.jsx(Ke,{scope:t,content:g,viewport:D,onViewportChange:X,itemRefCallback:ve,selectedItem:V,onItemLeave:Se,itemTextRefCallback:te,focusSelectedItem:F,selectedItemText:x,position:a,isPositioned:_,searchRef:xe,children:e.jsx(It,{as:oo,allowPinchZoom:!0,children:e.jsx(Tt,{asChild:!0,trapped:m.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:k(c,h=>{var T;(T=m.trigger)==null||T.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(Pt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:e.jsx(de,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:h=>h.preventDefault(),...C,...se,onPlaced:()=>A(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:k(C.onKeyDown,h=>{const T=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!T&&h.key.length===1&&ce(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let j=N().filter(b=>!b.disabled).map(b=>b.ref.current);if(["ArrowUp","End"].includes(h.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const b=h.target,y=j.indexOf(b);j=j.slice(y+1)}setTimeout(()=>R(j)),h.preventDefault()}})})})})})})});ze.displayName=to;var no="SelectItemAlignedPosition",$e=r.forwardRef((o,n)=>{const{__scopeSelect:t,onPlaced:a,...c}=o,u=Y(ee,t),s=q(ee,t),[i,l]=r.useState(null),[p,S]=r.useState(null),w=K(n,M=>S(M)),P=he(t),E=r.useRef(!1),I=r.useRef(!0),{viewport:d,selectedItem:v,selectedItemText:C,focusSelectedItem:m}=s,g=r.useCallback(()=>{if(u.trigger&&u.valueNode&&i&&p&&d&&v&&C){const M=u.trigger.getBoundingClientRect(),V=p.getBoundingClientRect(),U=u.valueNode.getBoundingClientRect(),x=C.getBoundingClientRect();if(u.dir!=="rtl"){const b=x.left-V.left,y=U.left-b,Z=M.left-y,J=M.width+Z,we=Math.max(J,V.width),be=window.innerWidth-W,ye=Me(y,[W,Math.max(W,be-we)]);i.style.minWidth=J+"px",i.style.left=ye+"px"}else{const b=V.right-x.right,y=window.innerWidth-U.right-b,Z=window.innerWidth-M.right-y,J=M.width+Z,we=Math.max(J,V.width),be=window.innerWidth-W,ye=Me(y,[W,Math.max(W,be-we)]);i.style.minWidth=J+"px",i.style.right=ye+"px"}const f=P(),N=window.innerHeight-W*2,_=d.scrollHeight,A=window.getComputedStyle(p),H=parseInt(A.borderTopWidth,10),R=parseInt(A.paddingTop,10),F=parseInt(A.borderBottomWidth,10),z=parseInt(A.paddingBottom,10),$=H+R+_+z+F,xe=Math.min(v.offsetHeight*5,$),ce=window.getComputedStyle(d),ve=parseInt(ce.paddingTop,10),Se=parseInt(ce.paddingBottom,10),te=M.top+M.height/2-W,de=N-te,se=v.offsetHeight/2,h=v.offsetTop+se,T=H+R+h,O=$-T;if(T<=te){const b=f.length>0&&v===f[f.length-1].ref.current;i.style.bottom="0px";const y=p.clientHeight-d.offsetTop-d.offsetHeight,Z=Math.max(de,se+(b?Se:0)+y+F),J=T+Z;i.style.height=J+"px"}else{const b=f.length>0&&v===f[0].ref.current;i.style.top="0px";const Z=Math.max(te,H+d.offsetTop+(b?ve:0)+se)+O;i.style.height=Z+"px",d.scrollTop=T-te+d.offsetTop}i.style.margin=`${W}px 0`,i.style.minHeight=xe+"px",i.style.maxHeight=N+"px",a==null||a(),requestAnimationFrame(()=>E.current=!0)}},[P,u.trigger,u.valueNode,i,p,d,v,C,u.dir,a]);G(()=>g(),[g]);const[B,D]=r.useState();G(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const X=r.useCallback(M=>{M&&I.current===!0&&(g(),m==null||m(),I.current=!1)},[g,m]);return e.jsx(so,{scope:t,contentWrapper:i,shouldExpandOnScrollRef:E,onScrollButtonChange:X,children:e.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:e.jsx(L.div,{...c,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});$e.displayName=no;var ro="SelectPopperPosition",Ne=r.forwardRef((o,n)=>{const{__scopeSelect:t,align:a="start",collisionPadding:c=W,...u}=o,s=ge(t);return e.jsx(Et,{...s,...u,ref:n,align:a,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ne.displayName=ro;var[so,_e]=re(ee,{}),je="SelectViewport",Ge=r.forwardRef((o,n)=>{const{__scopeSelect:t,nonce:a,...c}=o,u=q(je,t),s=_e(je,t),i=K(n,u.onViewportChange),l=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(fe.Slot,{scope:t,children:e.jsx(L.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:k(c.onScroll,p=>{const S=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:P}=s;if(P!=null&&P.current&&w){const E=Math.abs(l.current-S.scrollTop);if(E>0){const I=window.innerHeight-W*2,d=parseFloat(w.style.minHeight),v=parseFloat(w.style.height),C=Math.max(d,v);if(C<I){const m=C+E,g=Math.min(I,m),B=m-g;w.style.height=g+"px",w.style.bottom==="0px"&&(S.scrollTop=B>0?B:0,w.style.justifyContent="flex-end")}}}l.current=S.scrollTop})})})]})});Ge.displayName=je;var Ye="SelectGroup",[ao,lo]=re(Ye),io=r.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o,c=Ee();return e.jsx(ao,{scope:t,id:c,children:e.jsx(L.div,{role:"group","aria-labelledby":c,...a,ref:n})})});io.displayName=Ye;var qe="SelectLabel",co=r.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o,c=lo(qe,t);return e.jsx(L.div,{id:c.id,...a,ref:n})});co.displayName=qe;var me="SelectItem",[uo,Xe]=re(me),Ze=r.forwardRef((o,n)=>{const{__scopeSelect:t,value:a,disabled:c=!1,textValue:u,...s}=o,i=Y(me,t),l=q(me,t),p=i.value===a,[S,w]=r.useState(u??""),[P,E]=r.useState(!1),I=K(n,m=>{var g;return(g=l.itemRefCallback)==null?void 0:g.call(l,m,a,c)}),d=Ee(),v=r.useRef("touch"),C=()=>{c||(i.onValueChange(a),i.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(uo,{scope:t,value:a,disabled:c,textId:d,isSelected:p,onItemTextChange:r.useCallback(m=>{w(g=>g||((m==null?void 0:m.textContent)??"").trim())},[]),children:e.jsx(fe.ItemSlot,{scope:t,value:a,disabled:c,textValue:S,children:e.jsx(L.div,{role:"option","aria-labelledby":d,"data-highlighted":P?"":void 0,"aria-selected":p&&P,"data-state":p?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...s,ref:I,onFocus:k(s.onFocus,()=>E(!0)),onBlur:k(s.onBlur,()=>E(!1)),onClick:k(s.onClick,()=>{v.current!=="mouse"&&C()}),onPointerUp:k(s.onPointerUp,()=>{v.current==="mouse"&&C()}),onPointerDown:k(s.onPointerDown,m=>{v.current=m.pointerType}),onPointerMove:k(s.onPointerMove,m=>{var g;v.current=m.pointerType,c?(g=l.onItemLeave)==null||g.call(l):v.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:k(s.onPointerLeave,m=>{var g;m.currentTarget===document.activeElement&&((g=l.onItemLeave)==null||g.call(l))}),onKeyDown:k(s.onKeyDown,m=>{var B;((B=l.searchRef)==null?void 0:B.current)!==""&&m.key===" "||(Yt.includes(m.key)&&C(),m.key===" "&&m.preventDefault())})})})})});Ze.displayName=me;var ie="SelectItemText",Je=r.forwardRef((o,n)=>{const{__scopeSelect:t,className:a,style:c,...u}=o,s=Y(ie,t),i=q(ie,t),l=Xe(ie,t),p=Jt(ie,t),[S,w]=r.useState(null),P=K(n,C=>w(C),l.onItemTextChange,C=>{var m;return(m=i.itemTextRefCallback)==null?void 0:m.call(i,C,l.value,l.disabled)}),E=S==null?void 0:S.textContent,I=r.useMemo(()=>e.jsx("option",{value:l.value,disabled:l.disabled,children:E},l.value),[l.disabled,l.value,E]),{onNativeOptionAdd:d,onNativeOptionRemove:v}=p;return G(()=>(d(I),()=>v(I)),[d,v,I]),e.jsxs(e.Fragment,{children:[e.jsx(L.span,{id:l.textId,...u,ref:P}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?De.createPortal(u.children,s.valueNode):null]})});Je.displayName=ie;var Qe="SelectItemIndicator",et=r.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o;return Xe(Qe,t).isSelected?e.jsx(L.span,{"aria-hidden":!0,...a,ref:n}):null});et.displayName=Qe;var Ie="SelectScrollUpButton",tt=r.forwardRef((o,n)=>{const t=q(Ie,o.__scopeSelect),a=_e(Ie,o.__scopeSelect),[c,u]=r.useState(!1),s=K(n,a.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let i=function(){const p=l.scrollTop>0;u(p)};const l=t.viewport;return i(),l.addEventListener("scroll",i),()=>l.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),c?e.jsx(nt,{...o,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=t;i&&l&&(i.scrollTop=i.scrollTop-l.offsetHeight)}}):null});tt.displayName=Ie;var Te="SelectScrollDownButton",ot=r.forwardRef((o,n)=>{const t=q(Te,o.__scopeSelect),a=_e(Te,o.__scopeSelect),[c,u]=r.useState(!1),s=K(n,a.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let i=function(){const p=l.scrollHeight-l.clientHeight,S=Math.ceil(l.scrollTop)<p;u(S)};const l=t.viewport;return i(),l.addEventListener("scroll",i),()=>l.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),c?e.jsx(nt,{...o,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=t;i&&l&&(i.scrollTop=i.scrollTop+l.offsetHeight)}}):null});ot.displayName=Te;var nt=r.forwardRef((o,n)=>{const{__scopeSelect:t,onAutoScroll:a,...c}=o,u=q("SelectScrollButton",t),s=r.useRef(null),i=he(t),l=r.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return r.useEffect(()=>()=>l(),[l]),G(()=>{var S;const p=i().find(w=>w.ref.current===document.activeElement);(S=p==null?void 0:p.ref.current)==null||S.scrollIntoView({block:"nearest"})},[i]),e.jsx(L.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:k(c.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(a,50))}),onPointerMove:k(c.onPointerMove,()=>{var p;(p=u.onItemLeave)==null||p.call(u),s.current===null&&(s.current=window.setInterval(a,50))}),onPointerLeave:k(c.onPointerLeave,()=>{l()})})}),po="SelectSeparator",mo=r.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o;return e.jsx(L.div,{"aria-hidden":!0,...a,ref:n})});mo.displayName=po;var Pe="SelectArrow",fo=r.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o,c=ge(t),u=Y(Pe,t),s=q(Pe,t);return u.open&&s.position==="popper"?e.jsx(_t,{...c,...a,ref:n}):null});fo.displayName=Pe;var ho="SelectBubbleInput",rt=r.forwardRef(({__scopeSelect:o,value:n,...t},a)=>{const c=r.useRef(null),u=K(a,c),s=$t(n);return r.useEffect(()=>{const i=c.current;if(!i)return;const l=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&S){const w=new Event("change",{bubbles:!0});S.call(i,n),i.dispatchEvent(w)}},[s,n]),e.jsx(L.select,{...t,style:{...kt,...t.style},ref:u,defaultValue:n})});rt.displayName=ho;function st(o){return o===""||o===void 0}function at(o){const n=Ct(o),t=r.useRef(""),a=r.useRef(0),c=r.useCallback(s=>{const i=t.current+s;n(i),function l(p){t.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>l(""),1e3))}(i)},[n]),u=r.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,c,u]}function lt(o,n,t){const c=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,u=t?o.indexOf(t):-1;let s=go(o,Math.max(u,0));c.length===1&&(s=s.filter(p=>p!==t));const l=s.find(p=>p.textValue.toLowerCase().startsWith(c.toLowerCase()));return l!==t?l:void 0}function go(o,n){return o.map((t,a)=>o[(n+a)%o.length])}var xo=Oe,vo=Be,So=He,wo=Fe,bo=Ue,yo=We,Co=Ge,No=Ze,jo=Je,Io=et,To=tt,Po=ot;function Eo({...o}){return e.jsx(xo,{"data-slot":"select",...o})}function _o({...o}){return e.jsx(So,{"data-slot":"select-value",...o})}function Ro({className:o,children:n,...t}){return e.jsxs(vo,{"data-slot":"select-trigger",className:ne("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",o),...t,children:[n,e.jsx(wo,{asChild:!0,children:e.jsx(Mt,{className:"size-4 opacity-50"})})]})}function ko({className:o,children:n,position:t="popper",...a}){return e.jsx(bo,{children:e.jsxs(yo,{"data-slot":"select-content",className:ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...a,children:[e.jsx(Do,{}),e.jsx(Co,{className:ne("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(Ao,{})]})})}function Mo({className:o,children:n,...t}){return e.jsxs(No,{"data-slot":"select-item",className:ne("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Io,{children:e.jsx(zt,{className:"size-4"})})}),e.jsx(jo,{children:n})]})}function Do({className:o,...n}){return e.jsx(To,{"data-slot":"select-scroll-up-button",className:ne("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(Ot,{className:"size-4"})})}function Ao({className:o,...n}){return e.jsx(Po,{"data-slot":"select-scroll-down-button",className:ne("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(Lt,{className:"size-4"})})}function an({indikator:o,breadcrumb:n,titlePage:t,can:a}){const c=r.useMemo(()=>n?n.map(x=>({title:x.title,href:x.href})):[],[n]),{data:u,setData:s,post:i,put:l,processing:p,errors:S}=it({id:null,nama:"",keterangan:"",attribut:[{batas:0,operator:"",nilai:""}]}),[w,P]=r.useState(null),E=x=>{x.preventDefault(),w==null?i(route("admin.indikator.store"),{preserveState:!0,onSuccess:()=>{s({id:null,nama:"",keterangan:"",attribut:[{batas:0,operator:"",nilai:""}]}),d(!1)},onError:f=>{console.error(f)}}):(console.log(u.attribut),l(route("admin.indikator.update",w),{preserveState:!0,onSuccess:()=>{s({id:null,nama:"",keterangan:"",attribut:[{batas:0,operator:"",nilai:""}]}),P(null),d(!1)},onError:f=>{console.error(f)}}))},[I,d]=r.useState(!1),v=x=>{if(x){const f=o.filter(N=>N.id===x,[])[0];if(P(f.id),f){const N=f.attribut!=null?f.attribut:[{batas:0,operator:"",nilai:""}];s({id:f.id,nama:f.nama,keterangan:f.keterangan,attribut:N})}d(!0)}},[C,m]=r.useState(!1),[g,B]=r.useState(1),D=x=>{const{name:f,value:N}=x.target,_=f.split(".")[1],A=f.split(".")[0];console.log(_,A),s(H=>({...H,attribut:H.attribut.map((R,F)=>F===Number(_)?{...R,[A]:N}:R)}))},X=()=>{u.attribut.length<3&&s(x=>({...x,attribut:[...x.attribut,{batas:0,operator:"",nilai:""}]}))},M=x=>{s(f=>({...f,attribut:f.attribut.filter((N,_)=>_!==x)}))},V=(x,f)=>{s(N=>({...N,attribut:N.attribut.map((_,A)=>A===Number(x)?{..._,operator:f}:_)}))},U=()=>{if(a.add||a.edit||a.delete)return!0};return e.jsxs(Dt,{breadcrumbs:c,children:[e.jsx(ct,{title:t??"Indikator"}),e.jsx(ut,{children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Kriteria Nutrisi Rekomendasi Makanan"}),a.add&&e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:e.jsx(oe,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>d(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-md border",children:e.jsxs(Bt,{className:"min-w-full",children:[e.jsx(Vt,{children:e.jsxs(Ce,{children:[e.jsx(pe,{className:"cursor-pointer",children:"no"}),e.jsx(pe,{className:"cursor-pointer",children:"Nama"}),e.jsx(pe,{className:"cursor-pointer",children:"keterangan"}),U()&&e.jsx(pe,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(Ht,{children:o.length>0?o.map((x,f)=>e.jsxs(Ce,{children:[e.jsx(le,{children:f+1}),e.jsx(le,{children:x.nama}),e.jsx(le,{children:x.keterangan}),U()&&e.jsx(le,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[a.edit&&e.jsxs(oe,{type:"button",variant:"default",tooltip:"edit",onClick:()=>v(x.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(Ft,{})," "]}),a.delete&&e.jsx(dt,{title:`Hapus indikator ${x.id}`,id:x.id,url:route("admin.indikator.destroy",{indikator:x.id}),setOpenDialog:m})]})})]},x.id)):e.jsx(Ce,{children:e.jsx(le,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(pt,{open:I,onOpenChange:d,children:e.jsxs(mt,{children:[e.jsx(ft,{children:e.jsxs(ht,{children:[w?"Edit":"Tambah"," Indikator"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:E,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ae,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Indikator"}),e.jsx(ue,{type:"text",value:u.nama,onChange:x=>s("nama",x.target.value),id:"nama",name:"nama",className:"input",disabled:p,placeholder:"Masukkan nama indikator",readOnly:!a.add}),e.jsx(Re,{message:S.nama,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ae,{htmlFor:"keterangan",className:"text-sm font-medium",children:"Keterangan"}),e.jsx(ue,{type:"text",value:u.keterangan,onChange:x=>s("keterangan",x.target.value),id:"keterangan",name:"keterangan",className:"input",disabled:p,placeholder:"Masukkan keterangan indikator"}),e.jsx(Re,{message:S.keterangan,className:"mt-2"})]}),a.add&&a.edit&&a.delete&&e.jsxs("div",{className:"block space-y-2",children:[u.attribut.map((x,f)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"",children:[e.jsx(ae,{htmlFor:"batas."+f,className:"text-sm font-medium",children:"Batas"}),e.jsx(ue,{type:"text",name:"batas."+f,value:u.attribut[f].batas,onChange:D,id:"batas."+f,className:"input",disabled:p,placeholder:"Masukkan batas indikator"})]}),e.jsxs("div",{className:"",children:[e.jsx(ae,{htmlFor:"operator."+f,className:"text-sm font-medium",children:"Operator"}),e.jsxs(Eo,{value:u.attribut[f].operator||"",required:!0,onValueChange:N=>V(f.toLocaleString(),N),children:[e.jsx(Ro,{className:"input-minimal",children:e.jsx(_o,{placeholder:"Pilih"})}),e.jsx(ko,{children:["<","<=",">"].map((N,_)=>e.jsx(Mo,{value:N,children:N},_))})]})]}),e.jsxs("div",{className:"",children:[e.jsx(ae,{htmlFor:"nilai."+f,className:"text-sm font-medium",children:"Nilai"}),e.jsx(ue,{type:"text",name:"nilai."+f,value:u.attribut[f].nilai,onChange:D,id:"nilai."+f,className:"input",disabled:p,placeholder:"Masukkan nilai indikator"})]}),e.jsx("div",{children:e.jsxs(oe,{type:"button",variant:"destructive",size:"sm",onClick:()=>M(f),children:[" ",e.jsx(Ut,{})]})})]},f)),e.jsx(oe,{type:"button",variant:"outline",size:"sm",onClick:X,children:"+ Tambah Operator"})]})]}),e.jsxs(gt,{children:[e.jsx(oe,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Batal"}),e.jsxs(oe,{type:"submit",children:[p&&e.jsx(Wt,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{an as default};
